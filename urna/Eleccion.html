<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Urna Electrónica</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css">
  <style>
    .logo{
      width: 50px; 
      height: 50px;
    }
		h1{
			text-align: center;
		}
    .container{
      display: flex;
      flex-wrap: wrap;
      align-items: center; 
      justify-content: center;
    }
    .center {
      display:grid;
      justify-content: center;
      align-items: center; 
      vertical-align: middle;
      margin: 50px;
    }
    .b2{
      width: 80px;
      height: 30px;
      font-size: 10px;
    }
    button{
      width: 300px;
      height: 100px;
      font-size: 20px;
      margin-left: 50px;
    }
    .b3{
      display: flex;
      justify-content: center;
      align-items:center;
    }

    table, th, td {
      border: 1px solid black;
      border-collapse: collapse;
      word-spacing: 5px;      
      padding: 5px;
      text-align: center;
    }
    th{
      background-color: #ffc40c;
    }
    table{
      box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2), 0 6px 20px 0 rgba(0,0,0,0.19);

    }
    tr:nth-child(even){background-color: #f2f2f2}

    
</style>
<body>
  <nav class="navbar navbar-dark navbar-expand-lg bg-dark shadow small mb-3">
    <div class="container-fluid nav justify-content-center">
        <a class="navbar-brand" href="#" >
            <span >URNA ELECTRÓNICA</span>
        </a>
    </div>
    </nav>
    <h2 style="text-align: center; margin-top: 80px;">Resultados</h2>
    <div class="container">
      <div id="tablas" class= "center"> 
        <h3>Presidente Municipal</h3>
      </div>
      <div id="tablas2" class= "center"> 
        <h3>Gobernador</h3>
      </div>
      <div id="tablas3" class= "center"> 
        <h3>Presidente de la República</h3>
      </div>
    </div>
		<p style="text-align: center;"><input class="btn btn-sm btn-secondary" onclick="ir()" type="button" value="Finalizar" name="enter"></p>
	</form>

</body>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script type="text/javascript">
  const baseurl = 'http://localhost:4000';
  //const selectCandidatos = document.getElementById("boletas");
  var table = document.createElement('table');
  var table2 = document.createElement('table');
  var table3 = document.createElement('table');

  const getResultados1 = async() => {
    const { data } = await axios.get(baseurl + '/resultados');
    var tr = document.createElement('tr');
    var th3 = document.createElement('th'); //column
    var text3 = document.createTextNode('Partido'); //cell
    th3.appendChild(text3);
    tr.appendChild(th3);
    var th = document.createElement('th'); //column
    var text = document.createTextNode('Candidato'); //cell
    th.appendChild(text);
    tr.appendChild(th);
    var th2 = document.createElement('th'); //column
    var text2 = document.createTextNode('Votos'); //cell
    th2.appendChild(text2);
    tr.appendChild(th2);
    table.appendChild(tr);

    data.forEach(function(item) {
      var tr = document.createElement('tr'); 
      var td1 = document.createElement('td');
      var td2 = document.createElement('td');
      var td3 = document.createElement('td');
      var logo = document.createElement('img');
      var text1 = document.createTextNode(item.candidato_nombre);
      var text2 = document.createTextNode(item.can);

      td3.appendChild(logo);
      td1.appendChild(text1);
      td2.appendChild(text2);
      tr.appendChild(td3);
      tr.appendChild(td1);
      tr.appendChild(td2);
      
      table.appendChild(tr);
      partidoId= item.partido_id;
      nulo = item.candidato_nombre;
      logo.classList.add('logo')
      if(partidoId == 1){
          logo.src='pan.png'
      }else if(partidoId == 2){
          logo.src='pri.png'
      }else if(partidoId == 3){
          logo.src='prd.png'
      }else if(partidoId == 4){
          logo.src='partidoVerde.png'
      }else if(partidoId == 5){
          logo.src='pt.png'
      }else if(partidoId == 6){
          logo.src='movimientoCiudadano.png'
      }else if(partidoId == 7){
          logo.src='morena.png'
      }else if(nulo == "Voto Nulo"){
        logo.src='null.png'
      }else{
        logo.src='independiente.png'
      }

    });
    tablas.appendChild(table);
  }

  const getResultados2 = async() => {
    const { data } = await axios.get(baseurl + '/resultados2');
    var tr = document.createElement('tr');
    var th3 = document.createElement('th'); //column
    var text3 = document.createTextNode('Partido'); //cell
    th3.appendChild(text3);
    tr.appendChild(th3);
    var th = document.createElement('th'); //column
    var text = document.createTextNode('Candidato'); //cell
    th.appendChild(text);
    tr.appendChild(th);
    var th2 = document.createElement('th'); //column
    var text2 = document.createTextNode('Votos'); //cell
    th2.appendChild(text2);
    tr.appendChild(th2);
    table2.appendChild(tr);

    data.forEach(function(item) {
      var tr = document.createElement('tr'); 
      var td1 = document.createElement('td');
      var td2 = document.createElement('td');
      var td3 = document.createElement('td');
      var logo = document.createElement('img');
      var text1 = document.createTextNode(item.candidato_nombre);
      var text2 = document.createTextNode(item.can);

      td3.appendChild(logo);
      td1.appendChild(text1);
      td2.appendChild(text2);
      tr.appendChild(td3);
      tr.appendChild(td1);
      tr.appendChild(td2);
      table2.appendChild(tr);

      partidoId= item.partido_id;
      nulo = item.candidato_nombre;
      logo.classList.add('logo')
      if(partidoId == 1){
          logo.src='pan.png'
      }else if(partidoId == 2){
          logo.src='pri.png'
      }else if(partidoId == 3){
          logo.src='prd.png'
      }else if(partidoId == 4){
          logo.src='partidoVerde.png'
      }else if(partidoId == 5){
          logo.src='pt.png'
      }else if(partidoId == 6){
          logo.src='movimientoCiudadano.png'
      }else if(partidoId == 7){
          logo.src='morena.png'
      }else if(nulo == "Voto Nulo"){
        logo.src='null.png'
      }else{
        logo.src='independiente.png'
      }
    });
    tablas2.appendChild(table2);
  }
  

  const getResultados3 = async() => {
    const { data } = await axios.get(baseurl + '/resultados3');
    var tr = document.createElement('tr');
    var th3 = document.createElement('th'); //column
    var text3 = document.createTextNode('Partido'); //cell
    th3.appendChild(text3);
    tr.appendChild(th3);
    var th = document.createElement('th'); //column
    var text = document.createTextNode('Candidato'); //cell
    th.appendChild(text);
    tr.appendChild(th);
    var th2 = document.createElement('th'); //column
    var text2 = document.createTextNode('Votos'); //cell
    th2.appendChild(text2);
    tr.appendChild(th2);
    table3.appendChild(tr);

    data.forEach(function(item) {
      var tr = document.createElement('tr'); 
      var td1 = document.createElement('td');
      var td2 = document.createElement('td');
      var td3 = document.createElement('td');
      var logo = document.createElement('img');
      var text1 = document.createTextNode(item.candidato_nombre);
      var text2 = document.createTextNode(item.can);

      partidoId= item.partido_id;
      nulo = item.candidato_nombre;
      console.log(partidoId)
      console.log(nulo)
      logo.classList.add('logo')
      if(partidoId == 1){
        logo.src='pan.png'
      }else if(partidoId == 2){          
        logo.src='pri.png'
      }else if(partidoId == 3){
        logo.src='prd.png'
      }else if(partidoId == 4){
        logo.src='partidoVerde.png'
      }else if(partidoId == 5){
        logo.src='pt.png'
      }else if(partidoId == 6){
        logo.src='movimientoCiudadano.png'
      }else if(partidoId == 7){
        logo.src='morena.png'
      }else if(nulo == "Voto Nulo"){
        logo.src='null.png'
      }else{
        logo.src='independiente.png'
      }
      td3.appendChild(logo);
      td1.appendChild(text1);
      td2.appendChild(text2);
      tr.appendChild(td3);
      tr.appendChild(td1);
      tr.appendChild(td2);
      
      table3.appendChild(tr);
    });
    tablas3.appendChild(table3);
  }
  getResultados1()
  getResultados2()
  getResultados3()

  console.time('loop');
  var a = new Array(10000000);
  for (var n = 0; n < a.length; n++) {
      a[n] = n * n;
  }
  
  console.timeEnd('loop');

  function ir(){
    confirm("¿Esta seguro que desea salir?");
    window.location='opciones1.html'
  }
  function back(){
    window.location = "opciones1.html";
  }			  
</script>